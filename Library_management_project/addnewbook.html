<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Add a new Book</title>
</head>
<body>
    <center>
        <h2>Add New Book</h2>

        <form id="categoryform">

            Book id :<input type="text" name="Bookid" id="bid" /><br />
            Book title : <input type="text" name="Booktitle" id="btitle" /><br />
            Book description : <input type="text" name="Bookdes" id="bdes" /><br />
            Category id : <input type="text" name="Category id" id="cid" /><br />
            Author name : <input type="text" name="Author name" id="aname" /><br /><br />
            Available quality : <input type="text" name="Availablequantity" id="aq" /><br />
            <input type="button" id="add" value="add" />



            <input type="button" value="Go back" onclick="history.back()">
        </form>


    </center>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script type="text/javascript">$(document).ready(function () {
            //========================post method======================
            $("#add").click(function () {
                var person = new Object();
                person.Book_Id = $('#bid').val();
                person.Book_Title = $('#btitle').val();
                person.Book_Description = $('#bdes').val();
                person.Author_Name = $('#aname').val();
                person.Category_Id = $('#cid').val();
                person.Available_Quantity = $('#aq').val();
                $.ajax({
                    url: 'http://localhost:44316/api/Book',
                    type: 'POST',
                    dataType: 'json',
                    data: person,
                    success: function (data, textStatus, xhr) {
                        console.log(data);
                        alert("new book added")
                        refresh();
                    },
                    error: function (xhr, textStatus, errorThrown) {
                        console.log('Error in Operation');
                    }
                });





            });
        });
        function refresh() {
            window.location.href = '/book.html'
        }</script>
    <style>
    </style>



</body>
</html>